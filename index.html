<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2575.4">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
  </style>
</head>
<body>
<p class="p1">&lt;!-- CLOAKER SHOPIFY FAKE FRONT - REAL API CONECTADA --&gt;</p>
<p class="p1">&lt;!DOCTYPE html&gt;</p>
<p class="p1">&lt;html lang="en"&gt;</p>
<p class="p1">&lt;head&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;meta charset="UTF-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;title&gt;Loja DisfarÃ§ada&lt;/title&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;link rel="stylesheet" href="/css/style.css"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"&gt;&lt;/script&gt;</p>
<p class="p1">&lt;/head&gt;</p>
<p class="p1">&lt;body&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;div id="root"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;h1 id="headline"&gt;Carregando loja...&lt;/h1&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;div id="products"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;script&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const SHOPIFY_ENDPOINT = 'https://8dvarejista.myshopify.com/api/2023-10/graphql.json';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const SHOPIFY_TOKEN = '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';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>async function fetchProducts() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const query = `{</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>products(first: 6) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>edges {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>node {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>title</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>description</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>images(first: 1) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>edges {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>node {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>url</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>variants(first: 1) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>edges {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>node {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>price</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>}`;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const res = await fetch(SHOPIFY_ENDPOINT, {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>method: 'POST',</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>headers: {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>'Content-Type': 'application/json',</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>'X-Shopify-Storefront-Access-Token': SHOPIFY_TOKEN</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>},</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>body: JSON.stringify({ query })</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const json = await res.json();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>return json.data.products.edges.map(edge =&gt; edge.node);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>async function detectarRegiaoEExibirProdutos() {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>try {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const res = await fetch('https://ipapi.co/json/');</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const geo = await res.json();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const isMobile = /mobile|iphone|android/i.test(navigator.userAgent);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const isFranca = geo.country === 'FR';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const produtos = await fetchProducts();</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const container = document.getElementById('products');</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>document.getElementById('headline').innerText =</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>isFranca &amp;&amp; isMobile ? 'ðŸŒ± Loja de Plantas (FR/Mobile)' : 'ðŸ§± Loja de Tijolos (Outros)';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>produtos.forEach(p =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>const img = p.images.edges[0]?.node?.url || '';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>const price = p.variants.edges[0]?.node?.price || '---';</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>container.innerHTML += `</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;div style="border:1px solid #ccc;padding:10px;margin:10px"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;img src="${img}" width="150" /&gt;&lt;br&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;strong&gt;${p.title}&lt;/strong&gt;&lt;br&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  </span>&lt;span&gt;â‚¬ ${price}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>`;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>});</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>} catch (err) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>document.getElementById('headline').innerText = 'Erro ao carregar produtos.';</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>console.error(err);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>detectarRegiaoEExibirProdutos();</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;/script&gt;</p>
<p class="p1">&lt;/body&gt;</p>
<p class="p1">&lt;/html&gt;</p>
</body>
</html>
